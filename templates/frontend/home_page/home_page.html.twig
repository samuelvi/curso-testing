{% extends 'frontend/common/base.html.twig' %}

{% block title %}Home Page{% endblock %}

{% block body %}

    <div class="homepage">
        {% embed "common/common/partials/_jumbotron.html.twig" %}
            {% block subtitle %}
                <h2>Welcome to <b>Curso Testing</b> demo website</h2>
            {% endblock subtitle %}
        {% endembed %}

        <div class="container homepage-content">
            <div class="row">


                <div class="col-md-8 pull-left">
                    <div class="col-md-12">
                        <h2>Welcome</h2>
                        <p>
                        <p>Welcome to the CursoTesting</p>
                        <p>A complete set of tests that covers the most usual functionalities given in most of the world wide web pages.</p>
                    </div>

                    <div class="col-xs-12">
                        <hr>
                    </div>

                    <div class="col-md-12">
                        <h2>Instructions</h2>

                        <ul>

                            <li>NEW: Run datafixtures: php bin/console hautelook:fixtures:load --purge-with-truncate --env=test</li>

                            <li><HR></li>
                            <li>Download the project (request for download access)</li>
                            <li>From inside ansible folder run
                                <pre>vagrant up</pre>
                            </li>
                            <li>Provision the virtual machine by running
                                <pre>sudo ./playbook.yml</pre>
                            </li>
                            <li>Update vendors for library dependencies to be installed
                                <pre>composer install</pre>
                            </li>
                            <li>Prepare web assets
                                <pre>php bin/console assets:install --symlink</pre>
                            </li>
                            <li>Create tables schema by running
                                <pre>php bin/console doctrine:schema:update --force</pre>
                                <i>(additionally pass the environment --env=dev or --env=test)</i></li>
                            <li>Run DataFixtures
                                <pre>bin/console doctrine:fixtures:load</pre>
                                <i>(additionally pass the environment --env=dev or --env=test)</i></li>
                            <li>Or just create your own admin user with empty database
                                <pre>bin/console fos:user:create admin admin admin admin admin --super-admin</pre>
                                <i>(additionally pass the environment --env=dev or --env=test)</i></li>
                            <li>It's time to play!</li>
                        </ul>

                    </div>
                </div>
                <div class="col-md-4 pull">
                    <div class="sidebar">
                        <h2>Newsletter</h2>
                        <div>
                            {{ render(controller('App\\Controller\\Frontend\\Subscription\\SubscriptionController:__invoke')) }}
                        </div>
                        <hr>
                        <h2>Dashboard</h2>
                        <a class="btn btn-primary btn-md" href="{{ url('products') }}" role="button">List Products</a>
                        <hr>
                        <h2>Legal</h2>
                        <div style="min-width: 100%; position: relative; left: 0; top: 0; min-height: 80px; background: rgba(150, 150, 0, 0.1);">
                            <div style="position: absolute; left: 0; top: 0; min-width: 100%; height: 200px; z-index: 100; ">
                            </div>
                            <!-- Change z-index to 0, causing tests to fail -->
                            <div style="position: absolute; left: 0; top: 0; min-width: 100%; z-index: 0;">

                                <ul class="legal">
                                    <li>
                                        <a href="{{ path('legal_cookies') }}">Legal Cookies Policy</a>
                                    </li>
                                    <li>
                                        <a href="{{ path('legal_terms_and_conditions') }}">Legal Terms & Conditions</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


{% endblock %}
